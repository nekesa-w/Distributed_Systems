
import hashlib

class ConsistentHashMap:
    def _init_(self, n_servers=3, n_slots=512, virtual_nodes=9):
        self.n_servers=n_servers
        self.n_slots=n_slots
        self.virtual_nodes=virtual_ndes
        seld.ring={}
        self.servers={}

   def add_servers(self, server_id):
       for i in range(self.virtual_nodes):
           virtual_id =f "{server_id]#{i}"
           slot=self.hash(virtual_id) % self.n_slots
           self.ring[slot]=server_id
      self.servers[server_id]= set([self.ring[self.hash{f"{server_id}#{i}") % self.n_slots for i in range(self.virtua_nodes)])
